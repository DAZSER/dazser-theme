language: node_js
node_js:
 - "lts/*"
before_install:
# package-lock.json was introduced in npm@5
 - '[[ $(node -v) =~ ^v9.*$ ]] || npm install -g npm@latest' # skipped when using node 9
 - npm install -g greenkeeper-lockfile@1
# Workaround for https://github.com/greenkeeperio/greenkeeper-lockfile/issues/156
# ("npm ci" doesn't work with greenkeeper)
install:
 - npm install
before_script: greenkeeper-lockfile-update
after_script: greenkeeper-lockfile-upload